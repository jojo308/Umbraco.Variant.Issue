{"version":3,"file":"anchors.context-Drjz1b7i.js","sources":["../../BackofficeExtensions/CustomAnchorEditor/src/context/anchors.context.ts"],"sourcesContent":["import { UmbControllerBase } from \"@umbraco-cms/backoffice/class-api\";\r\nimport { UmbControllerHost } from \"@umbraco-cms/backoffice/controller-api\";\r\nimport { UmbContextToken } from \"@umbraco-cms/backoffice/context-api\";\r\nimport { UmbBasicState } from \"@umbraco-cms/backoffice/observable-api\";\r\nimport { AnchorsManagementRespository } from \"../repository/anchors.repository\";\r\n\r\nexport class AnchorsManagementContext extends UmbControllerBase {\r\n\r\n    #repository: AnchorsManagementRespository;\r\n\r\n    #anchors = new UmbBasicState<string[] | undefined>(undefined);\r\n    public readonly anchors = this.#anchors.asObservable();\r\n\r\n    constructor(host: UmbControllerHost) {\r\n        super(host);\r\n\r\n        this.provideContext(ANCHORS_MANAGEMENT_CONTEXT_TOKEN, this);\r\n        this.#repository = new AnchorsManagementRespository(this);\r\n    }\r\n\r\n    async getContentBlockIds(nodeId: string, culture: string) {\r\n        const { data } = await this.#repository.getContentBlockIds(nodeId, culture);\r\n\r\n        if (data) {\r\n            this.#anchors.setValue(data)\r\n        }\r\n    }\r\n}\r\n\r\nexport default AnchorsManagementContext;\r\n\r\nexport const ANCHORS_MANAGEMENT_CONTEXT_TOKEN =\r\n    new UmbContextToken<AnchorsManagementContext>(AnchorsManagementContext.name);"],"names":["AnchorsManagementContext","UmbControllerBase","host","__privateAdd","_repository","_anchors","__privateSet","UmbBasicState","__privateGet","ANCHORS_MANAGEMENT_CONTEXT_TOKEN","AnchorsManagementRespository","nodeId","culture","data","UmbContextToken"],"mappings":";;;;;;;;;;AAMO,MAAMA,UAAiCC,EAAkB;AAAA,EAO5D,YAAYC,GAAyB;AACjC,UAAMA,CAAI;AANd,IAAAC,EAAA,MAAAC;AAEA,IAAAD,EAAA,MAAAE;AAAW,IAAAC,EAAA,MAAAD,GAAA,IAAIE,EAAoC,MAAS,IAC5C,KAAA,UAAUC,EAAA,MAAKH,GAAS,aAAa,GAK5C,KAAA,eAAeI,GAAkC,IAAI,GACrDH,EAAA,MAAAF,GAAc,IAAIM,EAA6B,IAAI;AAAA,EAC5D;AAAA,EAEA,MAAM,mBAAmBC,GAAgBC,GAAiB;AAChD,UAAA,EAAE,MAAAC,EAAS,IAAA,MAAML,EAAA,MAAKJ,GAAY,mBAAmBO,GAAQC,CAAO;AAE1E,IAAIC,KACKL,EAAA,MAAAH,GAAS,SAASQ,CAAI;AAAA,EAEnC;AACJ;AAnBIT,IAAA,eAEAC,IAAA;AAqBG,MAAMI,IACT,IAAIK,EAA0Cd,EAAyB,IAAI;"}